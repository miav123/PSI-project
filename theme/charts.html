<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>

    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>

    <title>Daily log</title>

    <script>

        CALORIES_CONSUMED_COLOR = "#b9e769";
        WATER_COLOR = "#07beb8";
        TRAINING_COLOR = "#fe6d73";


        function generateNRandomNumbersInRange(n, min, max) {
            array = [];
            for(let i = 0; i < n; i++) {
                array.push(Math.floor(Math.random() * (max - min + 1) ) + min);
            }
            return array;
        }

        const todaysDate = new Date();
        let month = todaysDate.getMonth();
        daysInMonth = 30;

        switch(month) {
            case 0:
                daysInMonth = 31;
                break;
            case 1:
                if((todaysDate.getYear() % 4 == 0) && (todaysDate.getYear() % 100 != 0 ||  todaysDate.getYear() % 400 == 0)) {
                    daysInMonth = 29;
                }
                else {
                    daysInMonth = 28;    
                }
                break;
            case 2:
                daysInMonth = 31;
                break;
            case 4:
                daysInMonth = 31;
                break;
            case 6:
                daysInMonth = 31;
                break;
            case 7:
                daysInMonth = 31;
                break;
            case 9:
                daysInMonth = 31;
                break;
            case 11:
                daysInMonth = 31;
                break;
        }

        array = [];
        for(let i = 1; i < daysInMonth; i++) {
            array.push(i);
        }

        const labelsMonths = [
          'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'
        ];

        const labelsWeek = [
            'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'
        ];

        const labelsDaysInMonth = array;

        myChart0 = null;
        myChart1 = null;
        myChart2 = null;


        function caloriesConsumedData() {
            dataWeek = {
                labels: labelsWeek,
                datasets: [{
                label: 'Week',
                backgroundColor: CALORIES_CONSUMED_COLOR,
                borderColor: CALORIES_CONSUMED_COLOR,
                data: generateNRandomNumbersInRange(7, 0, 10), // INSERT DATA
                }]
            };

            dataMonth = {
                labels: labelsDaysInMonth,
                datasets: [{
                    label: 'Month',
                    backgroundColor: CALORIES_CONSUMED_COLOR,
                    borderColor: CALORIES_CONSUMED_COLOR,
                    data: generateNRandomNumbersInRange(daysInMonth, 0, 10), // INSERT DATA
                }]
            };

            dataYear = {
                labels: labelsMonths,
                datasets: [{
                    label: 'Year',
                    backgroundColor: CALORIES_CONSUMED_COLOR,
                    borderColor: CALORIES_CONSUMED_COLOR,
                    data: generateNRandomNumbersInRange(12, 0, 10), // INSERT DATA
                }]
            };

            configWeek = {
                type: 'line',
                data: dataWeek,
                options:  {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
            };

            configMonth = {
                type: 'line',
                data: dataMonth,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            configYear = {
                type: 'line',
                data: dataYear,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            if(myChart0 != null)
                myChart0.destroy();
            myChart0 = new Chart(
                document.getElementById('myChart0'),
                configWeek
            );

            if(myChart1 != null)
                myChart1.destroy();
            myChart1 = new Chart(
                document.getElementById('myChart1'),
                configMonth
            );

            if(myChart2 != null)
                myChart2.destroy();
            myChart2 = new Chart(
                document.getElementById('myChart2'),
                configYear
            );


        }

        function waterData() {
            dataWeek = {
                labels: labelsWeek,
                datasets: [{
                label: 'Week',
                backgroundColor: WATER_COLOR,
                borderColor: WATER_COLOR,
                data: generateNRandomNumbersInRange(7, 0, 10), // INSERT DATA
                }]
            };

            dataMonth = {
                labels: labelsDaysInMonth,
                datasets: [{
                    label: 'Month',
                    backgroundColor: WATER_COLOR,
                    borderColor: WATER_COLOR,
                    data: generateNRandomNumbersInRange(daysInMonth, 0, 10), // INSERT DATA
                }]
            };

            dataYear = {
                labels: labelsMonths,
                datasets: [{
                    label: 'Year',
                    backgroundColor: WATER_COLOR,
                    borderColor: WATER_COLOR,
                    data: generateNRandomNumbersInRange(12, 0, 10), // INSERT DATA
                }]
            };

            configWeek = {
                type: 'line',
                data: dataWeek,
                options:  {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
            };

            configMonth = {
                type: 'line',
                data: dataMonth,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            configYear = {
                type: 'line',
                data: dataYear,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            if(myChart0 != null)
                myChart0.destroy();
            myChart0 = new Chart(
                document.getElementById('myChart0'),
                configWeek
            );

            if(myChart1 != null)
                myChart1.destroy();
            myChart1 = new Chart(
                document.getElementById('myChart1'),
                configMonth
            );

            if(myChart2 != null)
                myChart2.destroy();
            myChart2 = new Chart(
                document.getElementById('myChart2'),
                configYear
            );


        }

        function trainingData() {
            dataWeek = {
                labels: labelsWeek,
                datasets: [{
                label: 'Week',
                backgroundColor: TRAINING_COLOR,
                borderColor: TRAINING_COLOR,
                data: generateNRandomNumbersInRange(7, 0, 10), // INSERT DATA
                }]
            };

            dataMonth = {
                labels: labelsDaysInMonth,
                datasets: [{
                    label: 'Month',
                    backgroundColor: TRAINING_COLOR,
                    borderColor: TRAINING_COLOR,
                    data: generateNRandomNumbersInRange(daysInMonth, 0, 10), // INSERT DATA
                }]
            };

            dataYear = {
                labels: labelsMonths,
                datasets: [{
                    label: 'Year',
                    backgroundColor: TRAINING_COLOR,
                    borderColor: TRAINING_COLOR,
                    data: generateNRandomNumbersInRange(12, 0, 10), // INSERT DATA
                }]
            };

            configWeek = {
                type: 'line',
                data: dataWeek,
                options:  {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
            };

            configMonth = {
                type: 'line',
                data: dataMonth,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            configYear = {
                type: 'line',
                data: dataYear,
                options:  {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero:true
                            }
                        }]
                    }
                }
            };

            if(myChart0 != null)
                myChart0.destroy();
            myChart0 = new Chart(
                document.getElementById('myChart0'),
                configWeek
            );

            if(myChart1 != null)
                myChart1.destroy();
            myChart1 = new Chart(
                document.getElementById('myChart1'),
                configMonth
            );

            if(myChart2 != null)
                myChart2.destroy();
            myChart2 = new Chart(
                document.getElementById('myChart2'),
                configYear
            );


        }

    </script>

</head>
<body onload="caloriesConsumedData()">
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a href="#"><img class="logo" src="pictures/logo.png"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="dailylog.html">DAILY LOG</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">CHALLENGES</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="charts.html">CHARTS</a>
                    </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">BADGES</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">RANK</a>
                </li>
            </ul>
        </div>
    </nav>

    

    <div id="content-charts">
        <div class="row">
            &nbsp;
        </div>
        <div class="row justify-content-center">
            <div class="col-1">
                <button type="button" class="btn btn-primary btn-floating foodIcon" onclick="caloriesConsumedData()">
                    <i class="fas fa-hamburger"></i><br>Calories consumed
                </button>
            </div>
    
            <div class="col-1 offset-2">
                <button type="button" class="btn btn-primary btn-floating waterIcon" onclick="waterData()">
                    <i class="fas fa-tint"></i><br>Water consumed
                </button>
            </div>
    
            <div class="col-1 offset-2">
                <button type="button" class="btn btn-primary btn-floating trainingIcon" onclick="trainingData()">
                    <i class="fas fa-dumbbell"></i><br>Calories burned
                </button>
                
            </div>
        </div>
    
        <div>
            <br>
        </div>
        <div>
            <br>
        </div>
        <div>
            <canvas id="myChart0" class="chart"></canvas>
        </div>
        <div>
            <br>
        </div>
        <div>
            <canvas id="myChart1" class="chart"></canvas>
        </div>
        <div>
            <br>
        </div>
        <div>
            <canvas id="myChart2" class="chart"></canvas>
        </div>

    </div>
    
    
    <div id = "footer">
        &copy; Copyright Team 7 2022
    </div>
    
</body>
</html>